{"version":3,"sources":["firebase/config.ts","helpers/context.ts","context/AuthContext.tsx","Home.tsx","components/layout/Footer.tsx","components/layout/Header.tsx","components/layout/Layout.tsx","components/atoms/Buttons.tsx","components/Notes/CreateNote.tsx","components/Notes/UpdateNote.tsx","components/Notes/Note.tsx","helpers/notes.ts","keeper/Notes.tsx","App.tsx","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","convertDateToINS","date","Date","toLocaleString","timeZone","year","month","day","hour","minute","second","authContextDefaultValues","user","uid","email","name","imgURL","isNewUser","signInMethod","createdTime","lastSignInTime","login","logout","error","AuthContext","createContext","useAuth","useContext","AuthProvider","children","history","useHistory","useState","setUser","setError","a","provider","auth","GoogleAuthProvider","signInWithPopup","result","additionalUserInfo","userValues","displayName","photoURL","providerId","isAnonymous","metadata","creationTime","collection","doc","set","push","signOut","useEffect","onAuthStateChanged","undefined","value","Provider","Home","props","el","useRef","typed","Typed","current","strings","startDelay","typeSpeed","backSpeed","backDelay","smartBackspace","loop","showCursor","cursorChar","destroy","className","ref","to","onClick","size","Footer","currentYear","getFullYear","console","log","Header","Layout","PlusButton","type","iconSize","CreateNote","onAddNote","contentRef","isExpanded","titleRef","onSubmit","e","preventDefault","title","innerText","trim","content","id","contentEditable","data-placeholder","Zoom","in","UpdateNote","onUpdateNote","onSetNote","onClose","addEventListener","target","Note","index","onDeleteNote","selectedNote","setSelectedNote","note","setNote","handleClose","handleSetNote","useCallback","style","transitionDelay","aria-label","wordWrap","color","Dialog","open","getNotesRef","Notes","notes","setNotes","setIsExpanded","onSnapshot","snap","docs","map","data","addNote","Math","floor","random","deleteNote","delete","updateNote","notesRef","newTitle","newContent","update","length","App","exact","path","component","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.23f391f4.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\nexport const app = firebase.initializeApp({\r\n    apiKey: \"AIzaSyAlCeauan3Y4VcMNqMzpNv8dGMKdubBR4E\",\r\n    authDomain: \"noteskeepers.firebaseapp.com\",\r\n    projectId: \"noteskeepers\",\r\n    storageBucket: \"noteskeepers.appspot.com\",\r\n    messagingSenderId: \"349974173689\",\r\n    appId: \"1:349974173689:web:a2bb7b75a7d91b10174f28\",\r\n    measurementId: \"G-FNFGL8YH49\",\r\n});\r\n\r\nconst db = firebase.firestore();\r\n\r\nexport { db, firebase };\r\n","export const convertDateToINS = (date: string) => {\r\n    return new Date(date).toLocaleString(\"en-IN\", {\r\n        timeZone: \"Asia/Kolkata\",\r\n        year: \"numeric\",\r\n        month: \"long\",\r\n        day: \"numeric\",\r\n        hour: \"numeric\",\r\n        minute: \"numeric\",\r\n        second: \"numeric\",\r\n    });\r\n};\r\n","import { db, firebase } from \"../firebase/config\";\r\nimport {\r\n    createContext,\r\n    ReactNode,\r\n    useContext,\r\n    useEffect,\r\n    useState,\r\n} from \"react\";\r\nimport { UserType } from \"../interface\";\r\nimport { convertDateToINS } from \"../helpers/context\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// import firebase from \"firebase\";\r\n\r\ninterface authContextType {\r\n    user: UserType | undefined;\r\n    login: () => void;\r\n    logout: () => void;\r\n    error: string | undefined;\r\n}\r\n\r\nconst authContextDefaultValues: authContextType = {\r\n    user: {\r\n        uid: \"\",\r\n        email: \"\",\r\n        name: \"\",\r\n        imgURL: \"\",\r\n        isNewUser: true,\r\n        signInMethod: \"\",\r\n        createdTime: \"\",\r\n        lastSignInTime: \"\",\r\n    },\r\n    login: () => {},\r\n    logout: () => {},\r\n    error: \"\",\r\n};\r\n\r\nconst AuthContext = createContext<authContextType>(authContextDefaultValues);\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext);\r\n}\r\n\r\ninterface Props {\r\n    children: ReactNode;\r\n}\r\n\r\nexport function AuthProvider({ children }: Props) {\r\n    const history = useHistory();\r\n    const [user, setUser] = useState<UserType>();\r\n    const [error, setError] = useState<string | undefined>();\r\n\r\n    // Methods/Functions\r\n    const login = async () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n        try {\r\n            const result = await firebase.auth().signInWithPopup(provider);\r\n            const { user, additionalUserInfo } = result;\r\n\r\n            const userValues = {\r\n                uid: user?.uid!,\r\n                email: user?.email!,\r\n                name: user?.displayName!,\r\n                imgURL: user?.photoURL!,\r\n                isNewUser: additionalUserInfo?.isNewUser!,\r\n                signInMethod: user?.providerId!,\r\n                isAnonymous: user?.isAnonymous,\r\n                createdTime: convertDateToINS(user?.metadata?.creationTime!),\r\n                lastSignInTime: convertDateToINS(\r\n                    user?.metadata?.lastSignInTime!\r\n                ),\r\n            };\r\n\r\n            setUser(userValues);\r\n\r\n            try {\r\n                await db.collection(\"users\").doc(user?.uid).set(userValues);\r\n\r\n                history.push(`/keeper/${user?.displayName}`);\r\n            } catch (err) {\r\n                setError(err || \"Failed to save user data!\");\r\n            }\r\n        } catch (err) {\r\n            setError(err || \"Failed to login\");\r\n        }\r\n    };\r\n\r\n    const logout = async () => {\r\n        await firebase.auth().signOut();\r\n\r\n        history.push(\"/\");\r\n    };\r\n\r\n    // Effects\r\n    // This useEffect will check for the already login user\r\n    useEffect(() => {\r\n        firebase.auth().onAuthStateChanged((user) => {\r\n            if (!user?.email) {\r\n                return setUser(undefined);\r\n            }\r\n\r\n            setUser({\r\n                uid: user?.uid,\r\n                email: user?.email!,\r\n                name: user?.displayName!,\r\n                imgURL: user?.photoURL!,\r\n                isNewUser: false,\r\n                signInMethod: user?.providerId!,\r\n                isAnonymous: user?.isAnonymous,\r\n                createdTime: convertDateToINS(user?.metadata?.creationTime!),\r\n                lastSignInTime: convertDateToINS(\r\n                    user?.metadata?.lastSignInTime!\r\n                ),\r\n            });\r\n        });\r\n    }, []);\r\n\r\n    const value = {\r\n        user,\r\n        login,\r\n        logout,\r\n        error,\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <AuthContext.Provider value={value}>\r\n                {children}\r\n            </AuthContext.Provider>\r\n        </>\r\n    );\r\n}\r\n","import { useEffect, useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Typed from \"typed.js\";\r\nimport { useAuth } from \"./context/AuthContext\";\r\nimport { FcGoogle } from \"react-icons/fc\";\r\n\r\ninterface Props {}\r\n\r\nconst Home = (props: Props) => {\r\n    // Refs\r\n    const el = useRef<HTMLSpanElement>(null);\r\n\r\n    // Context\r\n    const { user, login } = useAuth();\r\n\r\n    // Effects\r\n    useEffect(() => {\r\n        const typed = new Typed(el.current!, {\r\n            strings: [\"thoughts\", \"schedule\", \"secrets\", \"plans\", \"notes\"],\r\n            startDelay: 300,\r\n            typeSpeed: 100,\r\n            backSpeed: 100,\r\n            backDelay: 100,\r\n            smartBackspace: true,\r\n            loop: true,\r\n            showCursor: true,\r\n            cursorChar: \"!\",\r\n        });\r\n\r\n        return () => {\r\n            typed.destroy();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <section className=\"container grid md:grid-cols-2 md:place-items-center fullHeight\">\r\n            <div className=\"place-self-center w-full\">\r\n                <h1 className=\"text-[3rem] lg:text-7xl xl:text-8xl w-full text-center\">\r\n                    <span className=\"inline-block md:mb-4\">Keep your</span>\r\n                    <div className=\"h-16\">\r\n                        <span\r\n                            ref={el}\r\n                            className=\"bg-gradient-to-b from-yellow-200 via-yellow-300 to-yellow-400 \r\n                                p-2 underline inline-block\"\r\n                        ></span>\r\n                    </div>\r\n                    <span className=\"inline-block mt-4 lg:mt-12\">\r\n                        in keeper\r\n                    </span>\r\n                </h1>\r\n            </div>\r\n            <div className=\"self-start place-self-center md:self-center\">\r\n                {user ? (\r\n                    <div\r\n                        className=\"px-3 py-2 rounded-md font-black text-xl shadow-md\r\n                            bg-gradient-to-b from-yellow-300 via-yellow-300 to-yellow-400\r\n                            hover:from-yellow-400 hover:to-yellow-300 \"\r\n                    >\r\n                        <Link to={`/keeper/${user.name}`}>\r\n                            <button>Go To Keep &#10230;</button>\r\n                        </Link>\r\n                    </div>\r\n                ) : (\r\n                    <div\r\n                        className=\"rowCenter space-x-2 px-6 py-4 rounded-md bg-gray-400 cursor-pointer \r\n                            hover:text-gray-800\"\r\n                        onClick={login}\r\n                    >\r\n                        <FcGoogle size=\"2rem\" />\r\n                        <button className=\"font-medium text-xl\">\r\n                            continue with Google\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","interface Props {}\r\n\r\nconst Footer = (props: Props) => {\r\n    const currentDate = new Date();\r\n    const currentYear = currentDate.getFullYear();\r\n    console.log(currentYear);\r\n\r\n    return (\r\n        <></>\r\n        // <footer>\r\n        //     <p style={{ color: \"red\" }}>Copyright {currentYear}</p>\r\n        // </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import HighlightIcon from \"@material-ui/icons/Highlight\";\r\n\r\ninterface Props {}\r\n\r\nconst Header = (props: Props) => {\r\n    return (\r\n        <header>\r\n            <h1>\r\n                <HighlightIcon className=\"mb-2\" /> Keeper\r\n            </h1>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import { Fragment, ReactNode } from \"react\";\r\nimport Footer from \"./Footer\";\r\nimport Header from \"./Header\";\r\n\r\ninterface Props {\r\n    children: ReactNode;\r\n}\r\n\r\nconst Layout = ({ children }: Props) => {\r\n    return (\r\n        <Fragment>\r\n            <Header />\r\n            <main>{children}</main>\r\n            <Footer />\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n","import { BiPlus } from \"react-icons/bi\";\r\n\r\ninterface PlusButtonProps {\r\n    className?: string;\r\n    type?: \"button\" | \"submit\" | \"reset\" | undefined;\r\n    iconSize?: string;\r\n}\r\n\r\nexport const PlusButton = ({ className, type, iconSize }: PlusButtonProps) => {\r\n    return (\r\n        <button type={type} className={className}>\r\n            {/* this only works if react-icons is install */}\r\n            <BiPlus size={iconSize} />{\" \"}\r\n        </button>\r\n    );\r\n};\r\n","import { FormEvent } from \"react\";\r\nimport { NoteType } from \"../../interface\";\r\nimport Zoom from \"@material-ui/core/Zoom\";\r\nimport { useRef } from \"react\";\r\nimport { PlusButton } from \"../atoms/Buttons\";\r\n\r\ninterface Props {\r\n    onAddNote: (note: NoteType) => void;\r\n    isExpanded: boolean;\r\n}\r\n\r\nconst CreateNote = ({ onAddNote, isExpanded }: Props) => {\r\n    // Refs\r\n    const contentRef = useRef<HTMLDivElement>(null);\r\n    const titleRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Handlers\r\n    const submitNote = (e: FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n\r\n        let title = titleRef?.current?.innerText.trim() || \"Untitled\";\r\n        let content = contentRef?.current?.innerText.trim() || \"Empty note...\";\r\n\r\n        onAddNote({ title, content });\r\n    };\r\n\r\n    return (\r\n        <form\r\n            onSubmit={submitNote}\r\n            className=\"relative bg-gray-200 container sm:max-w-lg p-4 mx-auto mt-8 mb-5 rounded-lg \r\n                shadow-2xl\"\r\n        >\r\n            <div\r\n                id=\"title\"\r\n                contentEditable={true}\r\n                ref={titleRef}\r\n                data-placeholder=\"Title\"\r\n                className=\"w-full p-1 outline-none text-xl font-medium bg-gray-200 editableTitle\"\r\n            />\r\n            <div\r\n                id=\"content\"\r\n                contentEditable={true}\r\n                ref={contentRef}\r\n                data-placeholder=\"Content...\"\r\n                className=\"w-full p-1 outline-none text-lg bg-gray-200 editableContent\"\r\n            />\r\n            <Zoom in={true}>\r\n                <PlusButton\r\n                    className=\"flexCenter absolute right-[18px] -bottom-[18px] border-none rounded-full \r\n                        w-9 h-9 outline-none text-white bg-yellow-400 hover:bg-yellow-500\r\n                        transitionIn\"\r\n                    iconSize=\"1.45rem\"\r\n                    type=\"button\"\r\n                />\r\n            </Zoom>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default CreateNote;\r\n","import React, { FormEvent, useRef } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { OptionalNote } from \"../../interface\";\r\nimport { PlusButton } from \"../atoms/Buttons\";\r\n\r\ninterface Props {\r\n    id: string;\r\n    title: string;\r\n    content: string;\r\n    onUpdateNote: (note: OptionalNote, id: string) => void;\r\n    onSetNote: (note: OptionalNote) => void;\r\n    onClose: () => void;\r\n}\r\n\r\nconst UpdateNote = ({\r\n    id,\r\n    title,\r\n    content,\r\n    onUpdateNote,\r\n    onSetNote,\r\n    onClose,\r\n}: Props) => {\r\n    // Refs\r\n    const titleRef = useRef<HTMLDivElement>(null);\r\n    const contentRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Effects\r\n    useEffect(() => {\r\n        if (titleRef) {\r\n            if (titleRef.current) {\r\n                titleRef.current.innerText = title;\r\n            }\r\n        }\r\n        if (contentRef) {\r\n            if (contentRef.current) {\r\n                contentRef.current.innerText = content;\r\n            }\r\n        }\r\n    }, [title, content]);\r\n\r\n    useEffect(() => {\r\n        titleRef?.current?.addEventListener(\"input\", (e) => {\r\n            // @ts-ignore\r\n            const title = e.target?.innerText;\r\n            onSetNote({ title });\r\n        });\r\n        contentRef?.current?.addEventListener(\"input\", (e) => {\r\n            // @ts-ignore\r\n            const content = e.target?.innerText;\r\n            onSetNote({ content });\r\n        });\r\n    }, [onSetNote]);\r\n\r\n    // Handlers\r\n    const updateNote = (e: FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        const title = titleRef.current?.innerText || \"Untitled\";\r\n        const content = contentRef.current?.innerText || \"Empty note...\";\r\n        onUpdateNote({ title, content }, id);\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <form\r\n            onSubmit={updateNote}\r\n            className=\"p-4 bg-gray-200 min-w-[300px] xs:min-w-[400px] sm:min-w-[500px] rounded-lg\"\r\n        >\r\n            <div\r\n                contentEditable={true}\r\n                className=\"w-full p-1 outline-none text-xl font-medium\"\r\n                ref={titleRef}\r\n            ></div>\r\n            <div\r\n                contentEditable={true}\r\n                className=\"w-full p-1 outline-none text-lg\"\r\n                ref={contentRef}\r\n            />\r\n            <div className=\"flex justify-end\">\r\n                <PlusButton\r\n                    type=\"submit\"\r\n                    className=\"flexCenter border-none rounded-full w-9 h-9 outline-none text-white \r\n                        bg-yellow-400 hover:bg-yellow-500 transitionIn\"\r\n                    iconSize=\"1.5rem\"\r\n                />\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default UpdateNote;\r\n","import { MdDelete } from \"react-icons/md\";\r\nimport Zoom from \"@material-ui/core/Zoom\";\r\nimport { useState } from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport UpdateNote from \"./UpdateNote\";\r\nimport { OptionalNote } from \"../../interface\";\r\nimport { useCallback } from \"react\";\r\n\r\ninterface Props {\r\n    id: string;\r\n    index: number;\r\n    title: string;\r\n    content: string;\r\n    onDeleteNote: (id: string) => void;\r\n    onUpdateNote: (note: OptionalNote, id: string) => void;\r\n}\r\n\r\nconst Note = (props: Props) => {\r\n    const { id, index, title, content, onDeleteNote, onUpdateNote } = props;\r\n    // States\r\n    const [selectedNote, setSelectedNote] = useState<string>(\"none\");\r\n    const [note, setNote] = useState<OptionalNote | null>(null);\r\n\r\n    // Handlers\r\n    const handleClose = () => {\r\n        setSelectedNote(\"none\");\r\n        if (note) {\r\n            onUpdateNote(note, id);\r\n        }\r\n    };\r\n\r\n    const handleSetNote = useCallback((note: OptionalNote) => {\r\n        setNote(note);\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Zoom in={true} style={{ transitionDelay: `${300 * index}ms` }}>\r\n                <li\r\n                    className={`p-3 w-60 m-4 rounded-lg bg-gray-300 shadow-lg \r\n                `}\r\n                    aria-label={id}\r\n                    onClick={() => setSelectedNote(id)}\r\n                >\r\n                    <h1 className=\"mb-4 text-xl font-medium\">{title}</h1>\r\n                    <p\r\n                        className=\"mb-3 whitespace-pre-wrap text-lg\"\r\n                        style={{ wordWrap: \"break-word\" }}\r\n                    >\r\n                        {content}\r\n                    </p>\r\n                    <button\r\n                        onClick={() => onDeleteNote(id)}\r\n                        className=\"relative float-right cursor-pointer hover:text-red-400\"\r\n                        title=\"Delete note\"\r\n                    >\r\n                        <MdDelete size=\"1.75rem\" color=\"#555\" />\r\n                    </button>\r\n                </li>\r\n            </Zoom>\r\n            <Dialog\r\n                onClose={handleClose}\r\n                open={id === selectedNote}\r\n                className=\"\"\r\n            >\r\n                <UpdateNote\r\n                    id={id}\r\n                    title={title}\r\n                    content={content}\r\n                    onUpdateNote={onUpdateNote}\r\n                    onSetNote={handleSetNote}\r\n                    onClose={handleClose}\r\n                />\r\n            </Dialog>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Note;\r\n","import { db } from \"../firebase/config\";\r\n\r\nexport const getNotesRef = (uid: string) => {\r\n    return db.collection(\"users\").doc(uid).collection(\"notes\");\r\n};\r\n","import { useAuth } from \"../context/AuthContext\";\r\nimport CreateNote from \"../components/Notes/CreateNote\";\r\nimport { NoteType, OptionalNote } from \"../interface\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Note from \"../components/Notes/Note\";\r\nimport { db } from \"../firebase/config\";\r\nimport Zoom from \"@material-ui/core/Zoom\";\r\nimport { getNotesRef } from \"../helpers/notes\";\r\n\r\ninterface Props {}\r\n\r\nconst Notes = (props: Props) => {\r\n    // Context\r\n    const { user, logout } = useAuth();\r\n\r\n    // State\r\n    const [notes, setNotes] = useState<Array<NoteType>>([]);\r\n    const [isExpanded, setIsExpanded] = useState<boolean>(false);\r\n\r\n    // Effects\r\n    useEffect(() => {\r\n        db.collection(\"users\")\r\n            .doc(user?.uid)\r\n            .collection(\"notes\")\r\n            .onSnapshot((snap) =>\r\n                setNotes(\r\n                    snap.docs.map((doc) => ({\r\n                        id: doc.data().id,\r\n                        title: doc.data().title,\r\n                        content: doc.data().content,\r\n                    }))\r\n                )\r\n            );\r\n    }, [user?.uid]);\r\n\r\n    // Handlers / Functions\r\n    const addNote = async (note: NoteType) => {\r\n        let { title, content } = note;\r\n\r\n        const id = title + Math.floor(Math.random() * 10000000);\r\n\r\n        if (title === \"\") {\r\n            title = \"untitled\";\r\n        }\r\n\r\n        await db\r\n            .collection(\"users\")\r\n            .doc(user?.uid)\r\n            .collection(\"notes\")\r\n            .doc(id)\r\n            .set({ title, content, id });\r\n    };\r\n\r\n    const deleteNote = async (id: string) => {\r\n        await getNotesRef(user?.uid!).doc(id).delete();\r\n    };\r\n\r\n    const updateNote = async (note: OptionalNote, id: string) => {\r\n        const notesRef = getNotesRef(user?.uid!);\r\n        const { title, content } = note;\r\n\r\n        const newTitle = title?.trim() || \"Untitled\";\r\n        const newContent = content?.trim() || \"Empty note...\";\r\n        await notesRef\r\n            .doc(id)\r\n            .update({ id, title: newTitle, content: newContent });\r\n    };\r\n\r\n    return (\r\n        <section>\r\n            <div\r\n                onClick={(e: any) => {\r\n                    if (e.target.id === \"title\" || e.target.id === \"content\")\r\n                        return setIsExpanded(true);\r\n                    setIsExpanded(false);\r\n                }}\r\n            >\r\n                <CreateNote onAddNote={addNote} isExpanded={isExpanded} />\r\n                <ul className=\"flex justify-center flex-wrap items-start\">\r\n                    {notes.length < 1 && (\r\n                        <Zoom in={true}>\r\n                            <li className=\"font-medium text-2xl my-40 text-center px-2\">\r\n                                Welcome to keeper, anything in mind? Write it\r\n                                down\r\n                            </li>\r\n                        </Zoom>\r\n                    )}\r\n                    {notes.map((note, index) => (\r\n                        <Note\r\n                            key={index}\r\n                            id={note.id!}\r\n                            index={index}\r\n                            title={note.title}\r\n                            content={note.content}\r\n                            onDeleteNote={deleteNote}\r\n                            onUpdateNote={updateNote}\r\n                        />\r\n                    ))}\r\n                </ul>\r\n                <button onClick={logout}>logout</button>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Notes;\r\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport Layout from \"./components/layout/Layout\";\nimport Notes from \"./keeper/Notes\";\nimport { AuthProvider } from \"./context/AuthContext\";\n\nfunction App() {\n    return (\n        <Router>\n            <Layout>\n                <AuthProvider>\n                    <Switch>\n                        <Route exact path=\"/\" component={Home} />\n                        <Route\n                            exact\n                            path=\"/keeper/:userName\"\n                            component={Notes}\n                        />\n                        {/* Place a route at the bottom with path \"/\" under switch to catch 404 page */}\n                        <Route path=\"/\" render={() => <h1>404</h1>} />\n                    </Switch>\n                </AuthProvider>\n            </Layout>\n        </Router>\n    );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport \"./styles/tailwind.css\";\nimport \"./styles/globals.scss\";\nimport \"./styles/utils.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n    // <React.StrictMode>\n    <App />,\n    // </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}